(function(t){function e(e){for(var n,s,o=e[0],r=e[1],c=e[2],m=0,d=[];m<o.length;m++)s=o[m],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&d.push(l[s][0]),l[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var r=a[o];0!==l[r]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},l={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/admin/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),l=a.n(n);l.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],s={name:"app",components:{}},o=s,r=(a("034f"),a("2877")),c=Object(r["a"])(o,l,i,!1,null,null,null),u=c.exports,m=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[a("home-child")],1)},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"100vh"}},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[a("el-menu",{attrs:{router:""}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user"}),t._v("管理员管理")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("管理员")]),a("el-menu-item",{attrs:{index:"/admin/create"}},[t._v("新建管理员")]),a("el-menu-item",{attrs:{index:"/admin/list"}},[t._v("管理员列表")])],2)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),t._v("内容管理")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("分类")]),a("el-menu-item",{attrs:{index:"/category/create"}},[t._v("新建分类")]),a("el-menu-item",{attrs:{index:"/category/list"}},[t._v("分类列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("物品")]),a("el-menu-item",{attrs:{index:"/item/create"}},[t._v("新建物品")]),a("el-menu-item",{attrs:{index:"/item/list"}},[t._v("物品列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("英雄")]),a("el-menu-item",{attrs:{index:"/hero/create"}},[t._v("新建英雄")]),a("el-menu-item",{attrs:{index:"/hero/list"}},[t._v("英雄列表")])],2)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),t._v("运营管理")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("文章")]),a("el-menu-item",{attrs:{index:"/article/create"}},[t._v("新建文章")]),a("el-menu-item",{attrs:{index:"/article/list"}},[t._v("文章列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("广告")]),a("el-menu-item",{attrs:{index:"/ad/create"}},[t._v("新建广告")]),a("el-menu-item",{attrs:{index:"/ad/list"}},[t._v("广告列表")])],2)],2)],1)],1),a("el-container",[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("退出")])],1)],1),a("span")],1),a("el-main",[a("router-view",{key:t.$route.path})],1)],1)],1)},h=[],v={data:function(){return{}}},b=v,g=(a("e6dd"),Object(r["a"])(b,f,h,!1,null,null,null)),y=g.exports,_={components:{HomeChild:y}},$=_,k=Object(r["a"])($,d,p,!1,null,null,null),x=k.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-create"},[a("h2",[t._v(t._s(t.id?"编辑":"新建")+"分类")]),a("el-form",{nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"上级分类"}},[a("el-select",{model:{value:t.model.parents,callback:function(e){t.$set(t.model,"parents",e)},expression:"model.parents"}},t._l(t.parents,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"名称",labelWidth:"65px"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},C=[],S={props:{id:{type:String}},data:function(){return{model:{},parents:[]}},created:function(){this.getParents(),this.id&&this.fetch()},methods:{save:function(){var t=this;this.id?this.$http.put("/common/categories/".concat(this.id),this.model).then((function(){t.$message({type:"success",message:"保存成功"}),t.$router.push("/category/list")})):this.$http.post("/common/categories",this.model).then((function(){t.$message({type:"success",message:"保存成功"}),t.$router.push("/category/list")}))},fetch:function(){var t=this;this.$http.get("/common/categories/".concat(this.id)).then((function(e){t.model=e.data}))},getParents:function(){var t=this;this.$http.get("/common/categories").then((function(e){t.parents=e.data}))}}},O=S,j=Object(r["a"])(O,w,C,!1,null,null,null),A=j.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-list"},[a("h2",[t._v("分类列表")]),a("el-table",{attrs:{data:t.model}},[a("el-table-column",{attrs:{prop:"_id",label:"id"}}),a("el-table-column",{attrs:{prop:"parents.name",label:"上级分类"}}),a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.editClick(e)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.removeClick(e)}}},[t._v("删除")])]}}])})],1)],1)},T=[],U=(a("b0c0"),{data:function(){return{model:[]}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;this.$http.get("/common/categories").then((function(e){t.model=e.data}))},editClick:function(t){this.$router.push("/category/edit/".concat(t.row._id))},removeClick:function(t){var e=this;this.$confirm('此操作将永久删除"'.concat(t.row.name,'", 是否继续?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http.delete("/common/categories/".concat(t.row._id)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.fetch()}))}))}}}),z=U,P=Object(r["a"])(z,E,T,!1,null,null,null),B=P.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item"},[a("h2",[t._v(t._s(t.id?"编辑":"新建")+"物品")]),a("el-form",{attrs:{labelWidth:"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save()}}},[a("el-form-item",{attrs:{label:"物品名称"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,headers:t.getAuthHeaders(),"on-success":t.afterUpLoad}},[t.model.icon?a("img",{staticClass:"avatar",attrs:{src:t.model.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},H=[],D={props:{id:{type:String}},data:function(){return{model:{}}},created:function(){this.id&&this.fetch()},methods:{save:function(){var t=this;this.id&&this.$http.put("/common/items/".concat(this.id),this.model).then((function(){t.$message({type:"success",message:"修改成功"}),t.$router.push("/item/list")})),this.$http.post("/common/items",this.model).then((function(){t.$message({type:"success",message:"保存成功"}),t.$router.push("/item/list")}))},afterUpLoad:function(t){window.console.log(t),this.$set(this.model,"icon",t.url)},fetch:function(){var t=this;this.$http.get("/common/items/".concat(this.id)).then((function(e){t.model=e.data}))}}},I=D,F=Object(r["a"])(I,L,H,!1,null,null,null),R=F.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-list"},[a("el-table",{attrs:{data:t.model}},[a("el-table-column",{attrs:{prop:"_id",label:"id"}}),a("el-table-column",{attrs:{prop:"name",label:"物品名称"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{height:"3rem"},attrs:{src:t.row.icon}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.editClick(e)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.removeClick(e)}}},[t._v("删除")])]}}])})],1)],1)},V=[],J={data:function(){return{model:[]}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;this.$http.get("/common/items").then((function(e){t.model=e.data}))},editClick:function(t){this.$router.push("/item/edit/".concat(t.row._id))},removeClick:function(t){var e=this;this.$confirm('此操作将永久删除"'.concat(t.row.name,'", 是否继续?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http.delete("/common/items/".concat(t.row._id)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.fetch()}))}))}}},N=J,W=Object(r["a"])(N,M,V,!1,null,null,null),q=W.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hero-create"},[a("h2",[t._v(t._s(t.id?"编辑":"新建")+"英雄")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-tabs",{attrs:{type:"border-card",value:"base"}},[a("el-tab-pane",{attrs:{label:"基础信息",name:"base"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"称号"}},[a("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{ref:"a",staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,headers:t.getAuthHeaders(),"on-success":t.afterUpLoad}},[t.model.avatar?a("img",{staticClass:"avatar",attrs:{src:t.model.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"背景"}},[a("el-upload",{ref:"b",staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,headers:t.getAuthHeaders(),"on-success":t.afterUpLoad2}},[t.model.bg?a("img",{staticClass:"avatar",attrs:{src:t.model.bg}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"分类"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"难度"}},[a("el-rate",{staticStyle:{"margin-top":"0.7rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.difficult,callback:function(e){t.$set(t.model.scores,"difficult",e)},expression:"model.scores.difficult"}})],1),a("el-form-item",{attrs:{label:"技能"}},[a("el-rate",{staticStyle:{"margin-top":"0.7rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.skills,callback:function(e){t.$set(t.model.scores,"skills",e)},expression:"model.scores.skills"}})],1),a("el-form-item",{attrs:{label:"攻击"}},[a("el-rate",{staticStyle:{"margin-top":"0.7rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.attack,callback:function(e){t.$set(t.model.scores,"attack",e)},expression:"model.scores.attack"}})],1),a("el-form-item",{attrs:{label:"生存"}},[a("el-rate",{staticStyle:{"margin-top":"0.7rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.survive,callback:function(e){t.$set(t.model.scores,"survive",e)},expression:"model.scores.survive"}})],1),a("el-form-item",{attrs:{label:"顺风出装"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.item1,callback:function(e){t.$set(t.model,"item1",e)},expression:"model.item1"}},t._l(t.items,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"逆风出装"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.item2,callback:function(e){t.$set(t.model,"item2",e)},expression:"model.item2"}},t._l(t.items,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"使用技巧"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.useTips,callback:function(e){t.$set(t.model,"useTips",e)},expression:"model.useTips"}})],1),a("el-form-item",{attrs:{label:"对抗技巧"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.battleTips,callback:function(e){t.$set(t.model,"battleTips",e)},expression:"model.battleTips"}})],1),a("el-form-item",{attrs:{label:"团战思路"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.teamTips,callback:function(e){t.$set(t.model,"teamTips",e)},expression:"model.teamTips"}})],1)],1),a("el-tab-pane",{attrs:{label:"技能",name:"skills"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addSkills}},[a("i",{staticClass:"el-icon-plus"}),t._v("添加技能")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.skills,(function(e,n){return a("el-col",{key:n,staticStyle:{"margin-top":"2rem"},attrs:{md:12}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,headers:t.getAuthHeaders(),"on-success":function(a){return t.$set(e,"icon",a.url)}}},[e.icon?a("img",{staticClass:"avatar",attrs:{src:e.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"冷却值"}},[a("el-input",{model:{value:e.delay,callback:function(a){t.$set(e,"delay",a)},expression:"item.delay"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1),a("el-form-item",{attrs:{label:"小提示"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.tips,callback:function(a){t.$set(e,"tips",a)},expression:"item.tips"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.removeSkills(n)}}},[t._v("删除")])],1)],1)})),1)],1),a("el-tab-pane",{attrs:{label:"最佳搭档",name:"friend"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addFriend}},[t._v("添加搭档")]),a("el-row",t._l(t.model.partners,(function(e,n){return a("el-col",{key:n,attrs:{md:24}},[a("el-form-item",{attrs:{label:"搭档"}},[a("el-select",{attrs:{filterable:""},model:{value:e.hero,callback:function(a){t.$set(e,"hero",a)},expression:"item.hero"}},t._l(t.heroes,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"配合"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.removeFriend(n)}}},[t._v("删除")])],1)],1)})),1)],1)],1),a("el-form-item",{staticStyle:{"margin-top":"1rem"}},[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},K=[],Q=(a("a434"),{props:{id:{type:String}},data:function(){return{model:{scores:{difficult:0,skills:0,attack:0,survive:0},skills:[]},categories:[],items:[],heroes:[]}},created:function(){this.getItem(),this.getCategories(),this.getHeroes(),this.id&&this.fetch()},methods:{save:function(){var t=this;this.id?this.$http.put("/common/heroes/".concat(this.id),this.model).then((function(){t.$message({type:"success",message:"保存成功"}),t.$router.push("/hero/list")})):this.$http.post("/common/heroes",this.model).then((function(){t.$message({type:"success",message:"保存成功"}),t.$router.push("/hero/list")}))},fetch:function(){var t=this;this.$http.get("/common/heroes/".concat(this.id)).then((function(e){t.model=Object.assign({},t.model,e.data)}))},getCategories:function(){var t=this;this.$http.get("/common/categories").then((function(e){t.categories=e.data}))},getItem:function(){var t=this;this.$http.get("/common/items").then((function(e){t.items=e.data}))},getHeroes:function(){var t=this;this.$http.get("/common/heroes").then((function(e){t.heroes=e.data}))},afterUpLoad:function(t){this.$set(this.model,"avatar",t.url)},afterUpLoad2:function(t){this.$set(this.model,"bg",t.url)},addSkills:function(){this.model.skills.push({})},removeSkills:function(t){this.model.skills.splice(t,1)},addFriend:function(){this.model.partners.push({})},removeFriend:function(t){this.model.partners.splice(t,1)}}}),X=Q,Y=Object(r["a"])(X,G,K,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-list"},[a("h2",[t._v("英雄列表")]),a("el-table",{attrs:{data:t.model}},[a("el-table-column",{attrs:{prop:"_id",label:"id"}}),a("el-table-column",{attrs:{prop:"title",label:"称号"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"avatar",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{height:"3rem"},attrs:{src:t.row.avatar}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.editClick(e)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.removeClick(e)}}},[t._v("删除")])]}}])})],1)],1)},et=[],at={data:function(){return{model:[]}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;this.$http.get("/common/heroes").then((function(e){t.model=e.data}))},editClick:function(t){this.$router.push("/hero/edit/".concat(t.row._id))},removeClick:function(t){var e=this;this.$confirm('此操作将永久删除"'.concat(t.row.name,'", 是否继续?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http.delete("/common/heroes/".concat(t.row._id)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.fetch()}))}))}}},nt=at,lt=Object(r["a"])(nt,tt,et,!1,null,null,null),it=lt.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-create"},[a("h2",[t._v(t._s(t.id?"编辑":"新建")+"文章")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"所属分类"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"详情"}},[a("vue-editor",{attrs:{useCustomImageHandler:""},on:{"image-added":t.handleImageAdded},model:{value:t.model.body,callback:function(e){t.$set(t.model,"body",e)},expression:"model.body"}})],1),a("el-form-item",[a("el-button",{attrs:{"native-type":"submit",type:"primary"}},[t._v("保存")])],1)],1)],1)},ot=[],rt=a("5873"),ct={props:{id:{type:String}},components:{VueEditor:rt["a"]},data:function(){return{model:{},categories:[]}},created:function(){this.getCategories(),this.id&&this.fetch()},methods:{save:function(){var t=this;this.id?this.$http.put("/common/articles/".concat(this.id),this.model).then((function(){t.$message({type:"success",message:"修改成功"}),t.$router.push("/article/list")})):this.$http.post("/common/articles",this.model).then((function(){t.$message({type:"success",message:"保存成功"}),t.$router.push("/article/list")}))},getCategories:function(){var t=this;this.$http.get("/common/categories").then((function(e){t.categories=e.data}))},fetch:function(){var t=this;this.$http.get("/common/articles/".concat(this.id)).then((function(e){t.model=e.data}))},handleImageAdded:function(t,e,a,n){var l=new FormData;l.append("file",t),this.$http.post("/upload",l).then((function(t){e.insertEmbed(a,"image",t.data.url),n()}))}}},ut=ct,mt=Object(r["a"])(ut,st,ot,!1,null,null,null),dt=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-list"},[a("h2",[t._v("文章列表")]),a("el-table",{attrs:{data:t.model}},[a("el-table-column",{attrs:{prop:"_id",label:"id"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"smell"},on:{click:function(a){return t.editClick(e)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"smell"},on:{click:function(a){return t.removeClick(e)}}},[t._v("删除")])]}}])})],1)],1)},ft=[],ht={data:function(){return{model:[]}},created:function(){this.getArticle()},methods:{getArticle:function(){var t=this;this.$http.get("/common/articles").then((function(e){t.model=e.data}))},editClick:function(t){this.$router.push("/article/edit/".concat(t.row._id))},removeClick:function(t){var e=this;this.$confirm('此操作将永久删除"'.concat(t.row.title,'", 是否继续?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http.delete("/common/articles/".concat(t.row._id)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getArticle()}))}))}}},vt=ht,bt=Object(r["a"])(vt,pt,ft,!1,null,null,null),gt=bt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ad-create"},[a("h2",[t._v(t._s(t.id?"编辑":"新建")+"广告")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-tabs",{attrs:{value:"base",type:"border-card"}},[a("el-tab-pane",{attrs:{label:"基本标题"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1)],1),a("el-tab-pane",{attrs:{label:"详情",name:"base"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addAd}},[t._v("添加广告")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.items,(function(e,n){return a("el-col",{key:n,staticStyle:{"margin-top":"2rem"},attrs:{md:24}},[a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,headers:t.getAuthHeaders(),"on-success":function(a){return t.$set(e,"image",a.url)}}},[e.image?a("img",{staticClass:"avatar",attrs:{src:e.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"跳转链接(URL)"}},[a("el-input",{model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"n.url"}})],1),a("el-form-item",[[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.deleteAd(n)}}},[t._v("删除")])]],2)],1)})),1)],1)],1),a("el-form-item",{staticStyle:{"margin-top":"2rem"}},[a("el-button",{attrs:{"native-type":"submit",type:"primary"}},[t._v("保存")])],1)],1)],1)},_t=[],$t={props:{id:{type:String}},data:function(){return{model:{items:[]}}},created:function(){this.id&&this.fetch()},methods:{save:function(){var t=this;this.id?this.$http.put("/common/ads/".concat(this.id),this.model).then((function(){t.$message({type:"success",message:"修改成功"}),t.$router.push("/ad/list")})):this.$http.post("/common/ads",this.model).then((function(){t.$message({type:"success",message:"保存成功"}),t.$router.push("/ad/list")}))},fetch:function(){var t=this;this.$http.get("/common/ads/".concat(this.id)).then((function(e){t.model=Object.assign({},t.model,e.data)}))},addAd:function(){this.model.items.push({})},deleteAd:function(t){this.model.items.splice(t,1)}}},kt=$t,xt=Object(r["a"])(kt,yt,_t,!1,null,null,null),wt=xt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ad-list"},[a("h2",[t._v("广告列表")]),a("el-table",{attrs:{data:t.model}},[a("el-table-column",{attrs:{prop:"_id",label:"id"}}),a("el-table-column",{attrs:{prop:"name",label:"标题"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"smell"},on:{click:function(a){return t.editClick(e)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"smell"},on:{click:function(a){return t.removeClick(e)}}},[t._v("删除")])]}}])})],1)],1)},St=[],Ot={data:function(){return{model:[]}},created:function(){this.getAd()},methods:{getAd:function(){var t=this;this.$http.get("/common/ads").then((function(e){t.model=e.data}))},editClick:function(t){this.$router.push("/ad/edit/".concat(t.row._id))},removeClick:function(t){var e=this;this.$confirm('此操作将永久删除"'.concat(t.row.name,'", 是否继续?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http.delete("/common/ads/".concat(t.row._id)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getAd()}))}))}}},jt=Ot,At=Object(r["a"])(jt,Ct,St,!1,null,null,null),Et=At.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-create"},[a("h2",[t._v(t._s(t.id?"编辑":"新建")+"管理员")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{"native-type":"submit",type:"primary"}},[t._v("保存")])],1)],1)],1)},Ut=[],zt={props:{id:{type:String}},data:function(){return{model:{}}},created:function(){this.id&&this.fetch()},methods:{save:function(){var t=this;this.id?this.$http.put("/common/admins/".concat(this.id),this.model).then((function(){t.$message({type:"success",message:"修改成功"}),t.$router.push("/admin/list")})):this.$http.post("/common/admins",this.model).then((function(){t.$message({type:"success",message:"保存成功"}),t.$router.push("/admin/list")}))},fetch:function(){var t=this;this.$http.get("/common/admins/".concat(this.id)).then((function(e){t.model=Object.assign({},t.model,e.data)}))}}},Pt=zt,Bt=Object(r["a"])(Pt,Tt,Ut,!1,null,null,null),Lt=Bt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-list"},[a("h2",[t._v("管理员列表")]),a("el-table",{attrs:{data:t.model}},[a("el-table-column",{attrs:{prop:"_id",label:"id"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"smell"},on:{click:function(a){return t.editClick(e)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"smell"},on:{click:function(a){return t.removeClick(e)}}},[t._v("删除")])]}}])})],1)],1)},Dt=[],It={data:function(){return{model:[]}},created:function(){this.getAdmin()},methods:{getAdmin:function(){var t=this;this.$http.get("/common/admins").then((function(e){t.model=e.data}))},editClick:function(t){this.$router.push("/admin/edit/".concat(t.row._id))},removeClick:function(t){var e=this;this.$confirm('此操作将永久删除"'.concat(t.row.username,'", 是否继续?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http.delete("/common/admins/".concat(t.row._id)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getAdmin()}))}))}}},Ft=It,Rt=Object(r["a"])(Ft,Ht,Dt,!1,null,null,null),Mt=Rt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("login-child")],1)},Jt=[],Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login-child"}},[a("el-card",{staticClass:"login-card",attrs:{header:"请先登录"}},[a("el-form",{nativeOn:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("登录")])],1)],1)],1)],1)},Wt=[],qt={data:function(){return{model:{}}},methods:{login:function(){var t=this;this.$http.post("/login",this.model).then((function(e){localStorage.token=e.data.token,t.$router.push("/"),t.$message({type:"success",message:"登陆成功"})}))}}},Gt=qt,Kt=(a("7f39"),Object(r["a"])(Gt,Nt,Wt,!1,null,null,null)),Qt=Kt.exports,Xt={components:{LoginChild:Qt}},Yt=Xt,Zt=Object(r["a"])(Yt,Vt,Jt,!1,null,null,null),te=Zt.exports;n["default"].use(m["a"]);var ee=[{path:"/",name:"home",component:x,children:[{path:"/category/create",component:A},{path:"/category/edit/:id",component:A,props:!0},{path:"/category/list",component:B},{path:"/item/create",component:R},{path:"/item/edit/:id",component:R,props:!0},{path:"/item/list",component:q},{path:"/hero/create",component:Z},{path:"/hero/edit/:id",component:Z,props:!0},{path:"/hero/list",component:it},{path:"/article/create",component:dt},{path:"/article/edit/:id",component:dt,props:!0},{path:"/article/list",component:gt},{path:"/ad/create",component:wt},{path:"/ad/edit/:id",component:wt,props:!0},{path:"/ad/list",component:Et},{path:"/admin/create",component:Lt},{path:"/admin/edit/:id",component:Lt,props:!0},{path:"/admin/list",component:Mt}]},{path:"/login",name:"login",component:te,meta:{isPublic:!0}}],ae=new m["a"]({routes:ee,mode:"history"});ae.beforeEach((function(t,e,a){if(!t.meta.isPublic&&!localStorage.token)return a("/login");a()}));var ne=ae,le=a("5c96"),ie=a.n(le);a("0fae");n["default"].use(ie.a);a("6672"),a("d3b7");var se=a("bc3a"),oe=a.n(se),re=oe.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/admin/"}).VUE_APP_API_URL||"/wzry/api"});re.interceptors.request.use((function(t){return localStorage.token&&(t.headers.Authorization="Bearer "+localStorage.token),t}),(function(t){return Promise.reject(t)})),re.interceptors.response.use((function(t){return t}),(function(t){return t.response.data.message&&(n["default"].prototype.$message({type:"error",message:t.response.data.message}),401===t.response.status&&ne.push("/login")),Promise.reject(t)}));var ce=re;n["default"].config.productionTip=!1,n["default"].prototype.$http=ce,n["default"].mixin({computed:{uploadUrl:function(){return this.$http.defaults.baseURL+"/upload"}},methods:{getAuthHeaders:function(){return{Authorization:"Bearer ".concat(localStorage.token||"")}}}}),new n["default"]({render:function(t){return t(u)},router:ne}).$mount("#app")},6672:function(t,e,a){},"745a":function(t,e,a){},"7f39":function(t,e,a){"use strict";var n=a("aff6"),l=a.n(n);l.a},"85ec":function(t,e,a){},aff6:function(t,e,a){},e6dd:function(t,e,a){"use strict";var n=a("745a"),l=a.n(n);l.a}});
//# sourceMappingURL=app.e3a5e5c7.js.map